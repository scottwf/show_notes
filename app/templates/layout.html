{% extends "base.html" %}

{% block title %}{% block page_title %}{% endblock %} - ShowNotes{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='admin_settings.css') }}">
  <script src="{{ url_for('static', filename='darkmode.js') }}" defer></script>
  <script src="{{ url_for('static', filename='search.js') }}" defer></script>
  {# Only include admin_settings.js if needed (e.g., on admin pages) #}
  {% block extra_js %}{% endblock %}
{% endblock %}

{% block content %}
<header class="bg-gray-800 text-white dark:bg-gray-900 dark:text-gray-100 p-4">
  <div class="container mx-auto flex items-center space-x-4">
    <div class="flex-shrink-0">
      {% block header %}
      <h1 class="text-xl">ShowNotes</h1>
      {% endblock %}
    </div>
    <form id="search-form" class="flex-1 relative">
      <input id="search-input" type="text" placeholder="Search shows and movies" class="w-full px-2 py-1 text-sm rounded text-gray-900" autocomplete="off">
      <div id="search-results" class="absolute left-0 right-0 mt-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-lg rounded z-50 hidden"></div>
    </form>
    <button id="darkmode-toggle" title="Toggle light/dark mode" class="focus:outline-none p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors">
      <!-- Icon is set by JS -->
    </button>
  </div>
</header>

<main class="p-4 bg-white dark:bg-gray-950 min-h-screen">
    <div class="container mx-auto">
        {% block page_content %}{% endblock %}
    </div>
</main>

<footer class="bg-gray-200 dark:bg-gray-900 dark:text-gray-400 text-center p-4 mt-8">
    <div class="container mx-auto">
        {% block footer %}
        &copy; 2023 ShowNotes
        {% endblock %}
    </div>
</footer>
{% endblock %}
