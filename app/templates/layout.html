{% extends "base.html" %}

{% block title %}{% block page_title %}{% endblock %} - ShowNotes{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='admin_settings.css') }}">
  <script src="{{ url_for('static', filename='darkmode.js') }}" defer></script>
  <script src="{{ url_for('static', filename='search.js') }}" defer></script>
  {# Only include admin_settings.js if needed (e.g., on admin pages) #}
  {% block extra_js %}{% endblock %}
{% endblock %}

{% block content %}

<header class="bg-gray-800 text-white dark:bg-gray-900 dark:text-gray-100 p-4">
  <div class="container mx-auto flex items-center space-x-4">
    <div class="flex-shrink-0">
      {% block header %}
      <h1 class="text-lg sm:text-xl font-semibold">ShowNotes</h1>
      {% endblock %}
      <a href="{{ url_for('main.admin_settings') }}" class="text-sm font-medium text-slate-700 hover:text-sky-600 dark:text-slate-300 dark:hover:text-sky-400 px-2 py-1 rounded-md hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">Settings</a>
    </div>
    <form id="search-form" class="flex-1 relative">
      <input id="search-input" type="text" placeholder="Search shows and movies" class="w-full px-2 py-1 text-sm rounded text-gray-900" autocomplete="off">
      <div id="search-results" class="absolute left-0 right-0 mt-1 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 shadow-lg rounded z-50 hidden"></div>
    </form>
    <button id="darkmode-toggle" title="Toggle light/dark mode" class="focus:outline-none p-2 rounded-full bg-gray-700 hover:bg-gray-600 transition-colors">
      <!-- Icon is set by JS -->
    </button>
  </div>
</header>

<main class="p-4 sm:p-6 bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 min-h-[calc(100vh-128px)]">
    <div class="container mx-auto">
        {% block page_content %}{% endblock %}
    </div>
</main>

<footer class="bg-slate-200 dark:bg-slate-800 text-slate-700 dark:text-slate-300 text-center p-4 mt-auto">
    <div class="container mx-auto">
        {% block footer %}
        <span class="text-sm">&copy; 2024 ShowNotes</span>
        {% endblock %}
    </div>
</footer>
{% endblock %}
